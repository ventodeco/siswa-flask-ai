{% include 'layouts/header.html' %}
<div style="margin-bottom: 6vh;">
    <div style="width: 500px; height: 500px; display: block; margin: 0 auto">
      <canvas id="pieData"></canvas>
      <hr>
      <h4 class="mt-2 text-center">Hasil Prediksi Topik Papermu adalah {{ data["best_label"] }} dengan akurasi {{ data["best_score"] }} %</h4>
    </div>

    <input
      id="cryptography"
      value="{{ data['scores'][0] }}"
      type="text"
      hidden
    />
    <input
      id="cyber_security"
      value="{{ data['scores'][1] }}"
      type="text"
      hidden
    />
    <input
      id="social"
      value="{{ data['scores'][2] }}"
      type="text"
      hidden
    />
    <input
      id="statistics"
      value="{{ data['scores'][3] }}"
      type="text"
      hidden
    />
    <input
      id="devops"
      value="{{ data['scores'][4] }}"
      type="text"
      hidden
    />
    <input
      id="physics"
      value="{{ data['scores'][5] }}"
      type="text"
      hidden
    />
    <input
      id="ai_ml"
      value="{{ data['scores'][6] }}"
      type="text"
      hidden
    />
    <input
      id="mathematics"
      value="{{ data['scores'][7] }}"
      type="text"
      hidden
    />

</section>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.0/dist/chart.min.js"></script>
<script>
  const cryptography = document.getElementById("cryptography").value;
  const cyber_security = document.getElementById("cyber_security").value;
  const social = document.getElementById("social").value;
  const statistics = document.getElementById("statistics").value;
  const devops = document.getElementById("devops").value;
  const physics = document.getElementById("physics").value;
  const ai_ml = document.getElementById("ai_ml").value;
  const mathematics = document.getElementById("mathematics").value;
  
  var pieData = document.getElementById("pieData");

    const data = {
        labels: [
            "Cryptography",
            "Cyber Security",
            "Social",
            "Statistics",
            "DevOps",
            "Physics",
            "AI/ML",
            "Mathematics",
        ],
        datasets: [{
            label: 'Paper Topic Prediciton',
            data: [cryptography, cyber_security, social, statistics, devops, physics, ai_ml, mathematics],
            backgroundColor: [
                '#55D6BE',
                '#DA3E52',
                '#DCED31',
                '#4A8FE7',
                '#EDEDF4',
                '#FF01FB',
                '#2B061E',
                '#FCAB64',
            ],
            hoverOffset: 4
        }]
    };

    var pieChart = new Chart(pieData, {
        type: 'pie',
        data: data
    });
</script>
{% include 'layouts/footer.html' %}